ESBUILD=esbuild

.PHONY: all clean
all: spec/views/login.js spec/views/user/settings.js spec/views/user_profile.js

# Building modules
spec/views/login.js: spec/views/login.moon
	lapis-eswidget compile_js --moonscript --file "$<" > "$@"

spec/views/user_profile.js: spec/views/user_profile.moon
	lapis-eswidget compile_js --moonscript --file "$<" > "$@"

spec/views/user/settings.js: spec/views/user/settings.moon
	lapis-eswidget compile_js --moonscript --file "$<" > "$@"

# Misc rules
clean:
	rm spec/views/login.js spec/views/user_profile.js spec/views/user/settings.js
